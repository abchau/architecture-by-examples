# ----------------------------------------
# APP PROPERTIES
# ----------------------------------------

# ----------------------------------------
# SERVER PROPERTIES
# ----------------------------------------
server: 
  port: 8080
logging:
  level:
    root: WARN
    # org.springframework.beans.factory: TRACE
    # org.springframework.beans.factory.support.DefaultListableBeanFactory: DEBUG
    org.springframework.web: ERROR
    com.abchau.hddd.subscribe: TRACE
    org.hibernate: ERROR
    io.r2dbc.h2: TRACE

# ----------------------------------------
# SRPING PROPERTIES
# ----------------------------------------
spring:
  main:
    web-application-type: reactive
  output:
    ansi:
      enabled: DETECT

  # ----------------------------------------
  # CORE PROPERTIES
  # ----------------------------------------
  application:
    name: DDD
  debug: true


#   # ----------------------------------------
#   # SRPING DATA R2DBC PROPERTIES
#   # ----------------------------------------
#   datasource:
#     url: jdbc:h2:mem:persondb
#     driverClassName: org.h2.Driver
#     username: sa
#     password: test

#   # only work for servlet
#   h2:
#     console:
#       enabled: true
#       path: /h2-console
#       settings:
#         web-allow-others: true
  # ----------------------------------------
  # SRPING DATA JPA PROPERTIES
  # ----------------------------------------
  jpa:
    hibernate:
      ddl-auto: none
    database-platform: org.hibernate.dialect.H2Dialect

  # ----------------------------------------
  # SRPING DATA R2DBC PROPERTIES
  # ----------------------------------------
  r2dbc:
    url: r2dbc:h2:mem:///subscribe?options=DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=TRUE
    username: sa
    password: 
    initialization-mode: always
    # url: ${DB_URL}
    # username: ${DB_USERNAME}
    # password: ${DB_PASSWORD}

  # ----------------------------------------
  # WEB PROPERTIES
  # ----------------------------------------
  thymeleaf:
    reactive:
      max-chunk-size: 8192
  # ----------------------------------------
  # SECURITY PROPERTIES
  # ----------------------------------------

  # ----------------------------------------
  # DEV TOOLS
  # ----------------------------------------
  devtools:
    restart:
      enabled: false
      exclude: tatic/**,public/**
# ----------------------------------------
# ACTUATOR PROPERTIES
# ----------------------------------------
management:
  endpoints:
    shutdown:
      enabled: false
    jmx:
      exposure:
        include: "*"
    web:
      exposure:
        include: "*"